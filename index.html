<!DOCTYPE html>
<html>
<head>
<title>SMM Price Calculator</title>
<link rel="stylesheet" type="text/css" href="style.css">
<script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
</head>

<body>
<div class="wrapper">
	<!--<h1>Student Makers Market Pricing Calculator</h1>-->
	<p>How much should I charge for a product I've made? How much will fees cost?</p>
	<p>A good rule of thumb is the <strong>materials cost x 2 + 20%</strong>(the 20% part is the VAT element, so when selling wholesale don't add 20%), but this does not factor in the cost of fees for selling online.</p>
	<p>This calculator is only a guide to help you decide how much to charge. Charge whatever you feel comfortable with, but don't undervalue yourself!</p>
	<form id="calc">
		<span><input type="radio" name="option" class="decisionRadio" id="dontknow" value="dontknow">I don't know how much to charge at all<br></span>
		<div class="dontknow-calc">
			<span><label>My materials cost</label>&nbsp;&pound;<input type="text" name="materialcost" id="materialcost" placeholder="17.20" /><br /></span>
			<span><label>My packing materials cost</label>&nbsp;&pound;<input type="text" name="packingmaterialcost" id="packingmaterialcost" placeholder="1.10" /><br /></span>
			<span><label>My parcel weighs</label>&nbsp;<input type="text" name="parcelweight" id="parcelweight" placeholder="250" />g<br /></span>
			<span><label>My parcel is a</label>&nbsp;
				<select>
				  <option value="letter">Letter</option>
				  <option value="lgletter">Large Letter</option>
				  <option value="sparcel" selected="selected">Small parcel</option>
				  <option value="mparcel">Medium parcel</option>
				  <option value="lparcel">Large parcel</option>
				</select>
&nbsp;<small class="open-modal">Not sure?</small><br /></span>
			<div class="btn btnCalc" id="dontknow">Calculate</div><p class="errorMsg">You must fill in all the fields</p>
				<div class="result">
					<p>You should charge around £19.85 for your product.<br />
					You will take home £17.60.</p>
				</div>
		</div>
		<span><input type="radio" name="option" class="decisionRadio" id="haveprice" value="haveprice">I know how much I charge offline and I only need to factor in fees for online selling</span>
		<div class="haveprice-calc">
			<h3>Test</h3>
			<span><div class="btn btnCalc" id="haveprice">Calculate</div></span>
		</div>
	</form>

<!-- start of modal -->
<div id="calc-modal">
	<div class="inner-modal">
		<h3>Royal Mail Parcel Types</h3>
		<p>Make sure you select the correct parcel type or your customer could be charged to collect their item</p>
		<table border="1">
				<tr>
					<td>Parcel Type</td>
					<td>Max weight</td>
					<td>Max length</td>
					<td>Max width</td>
					<td>Max depth</td>
				</tr>
			<tbody>
				<tr>
					<td>Letter</td>
					<td>100g</td>
					<td>24cm</td>
					<td>16.5cm</td>
					<td>5mm</td>
				</tr>
				<tr>
					<td>Large Letter</td>
					<td>750g</td>
					<td>35.3cm</td>
					<td>25cm</td>
					<td>2.5cm</td>
				</tr>
				<tr>
					<td>Small Parcel</td>
					<td>2kg</td>
					<td>45cm</td>
					<td>35cm</td>
					<td>16cm</td>
				</tr>
				<tr>
					<td>Medium Parcel</td>
					<td>20kg</td>
					<td>61cm</td>
					<td>46cm</td>
					<td>46cm</td>
				</tr>
				<tr>
					<td colspan="5">Anything larger than a medium parcel can be sent using Parcel Force</td>
				</tr>
			</tbody>
		</table>
		<span class="close-modal">Close</span>
	</div>
</div>
<!-- end of modal -->
</div>
</body>
<script>
$(".decisionRadio").change(function() {
  var checked = $('input[name=option]:checked', '#calc').val();
  var unchecked = $('input[name=option]:not(:checked)', '#calc').val();
  $("." + checked + "-calc").slideDown( "slow", function() {});
  $("." + unchecked + "-calc").slideUp( "slow", function() {});
});

$(".btnCalc").click(function() {
	var id = this.id;
	console.log(id);
	var valid = validate(id);
});

$(".open-modal").click(function() {
	$('#calc-modal').fadeIn("fast");
});

$(".close-modal").click(function() {
	$('#calc-modal').fadeOut("fast");
});

function validate(id){
    // checks only inputs with type "text" inside div id-calc
    // e.g #haveprice-calc or #dontknow-calc
    var div = $("." + id + "-calc");
    $(div).find("input[type = 'text']").each(function() {
        if(this.value == ""){
            $(this).addClass("errorInput");
       		$(".errorMsg").show();
       		$('.errorMsg').css('display','inline-block');
       	}else{
       		$(this).removeClass("errorInput");
       		$(".errorMsg").hide();
       	}
    });
}

</script>

</html>